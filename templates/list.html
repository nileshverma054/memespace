
{% include 'assets/bootstrap.html'  %}

<style type="text/css">
		.img{
			border: 2px solid #ccc;
			width: 50px;
			height: 50px;
			object-fit: cover;
			border-radius: 50%;
		}
		[data-href] {
		    cursor: pointer;
		}
		@media screen and (max-width: 600px)
		{
			h2{
				font-size: 20px;
			}
		}
	</style>

<div class="container my-3">

		{% include 'assets/flash.html' %}
		<h2 class="my-3 text-center">Users List</h2>
		 <nav class="navbar navbar-expand-sm bg-dark">
			 <div class="input-group">
			  <div class="input-group-prepend">
				<span class="input-group-text my-3"><i class="fa fa-search"></i></span>
			  </div>
			 <input class="form-control my-3" id="myInput" type="text" placeholder="Total participants : {{count}}">
			</div>
		</nav>

		<!-- Listing -->
	<div class="table-responsive">
		<table class="table table-hover my-3" id="myTable">
	    <thead class="thead-light">
	      <tr>
	        <th>Name</th>
	        <th>Username</th>
            <th>Validation</th>
		  	<th>Action</th>
	      </tr>
	    </thead>
	    <tbody>

	   {% for d in data %}
	      <tr data-href="#">
	        <td>{{ d.name.capitalize() }}</td>
	        <td>{{ d.email }}</td>
			  {% if not d.validated %}
            <td><a href="/validate/{{d.email}}" class="btn btn-outline-primary">Validate</a></td>
			  {% else %}
		  	<td><a class="btn btn-outline-dark disabled">Validated</a></td>
			{% endif %}
			  <td>
		  		<a href="/delete/{{d.email}}" class="btn btn-outline-danger">Delete</a>
			  </td>

	      </tr>
	   {% endfor %}

	  	</tbody>
		</table>
		</div>

</div>
	<!-- table search user -->
	<script>
	$(document).ready(function(){
	  $("#myInput").on("keyup", function() {
	    var value = $(this).val().toLowerCase();
	    $("#myTable tr").filter(function() {
	      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
	    });
	  });
	});
	</script>

	<!-- table row link -->
	<script>
		$(document).ready(function($) {
	    $('*[data-href]').on('click', function() {
	        window.location = $(this).data("href");
		    });
		});
	</script>
